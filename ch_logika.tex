\chapter{Logika}

Logika je nauka o~odvozování tvrzení z~jiných tvrzení. V~této kapitole budou představeny základy výrokové a~predikátové logiky prvního řádu, aby byly čtenářům zřejmé formule používané dále v~knize.

Výrok je jakékoli tvrzení, o~kterém má smysl řící, že je pravdivé nebo nepravdivé. Výroky jsou proto:

\begin{itemize}
	\item 2 je sudé číslo. (pravdivý výrok)
	\item \(4 > 5\) (nepravdivý výrok)
	\item Počet planet ve vesmíru je dělitelný třemi. (výrok, jehož pravdivost nedokážeme určit)
	\item Pro každé sudé číslo \(n\) platí, že \(n + 1\) je liché číslo. (výrok s~vázanou proměnnou)
\end{itemize}

Zavedeme konvenci, že pravdivý výrok budeme označovat \(\true\) a~nepravdivý výrok \(\false\).

Predikát, někdy nezývaný výroková funkce, je výraz obsahující volné proměnné, ze které se dosazením za tyto volné proměnné stane výrok. Příklady predikátů jsou:

\begin{itemize}
	\item \(n\) je sudé číslo.
	\item \(x > y\)
\end{itemize}

Vidíme, že o~těchto predikátech nemá smysl řící, zda jsou pravdivé nebo ne. Avšak například dosazením \(n = 2\) do prvního predikátu získáme pravdivý výrok "2 je sudé číslo", zatímco dosazením \(n = \mathrm{automobil}\) získáme nepravdivý výrok "automobil je sudé číslo". Z~důvodu obecnosti můžeme jakýkoli výrok považovat za predikát s~nula volnými proměnnými.

Volné proměnné je nutné rozlišovat od vázaných proměnných. Volné proměnné nejsou v~predikátech nijak kvatnifikovány a~vstupují do nich "zvenku" jako parametry. Například již zmíněný predikát bychom mohli zapsat takto:

\begin{equation}
\predicate{A}(n) = n \ \text{je sudé číslo}
\end{equation}

Naproti tomu výraz "Pro každé sudé číslo \(n\) platí, že \(n + 1\) je liché číslo" je výrokem. Proměnná \(n\) je zde kvantifikovaná tvrzením "pro každé sudé číslo \(n\)" a~nevstupuje tedy jako parametr. Tento výrok můžeme vyhodnotit aniž bychom znali konkrétní hodnotu vázané proměnné \(n\).

\section{Negace}

Je-li \(\predicate{A}\) predikát (nebo výrok), pak

\begin{equation}
\overline{\predicate{A}} 
\end{equation}

je predikát, který je pravdivý tehdy a jen tehdy, když \(A\) není pravdivý. Říkáme "není pravda \(\predicate{A}\)".
Ekvivalenci můžeme vyjádřit pravdivostní tabulkou:

\etab{truth_not}

Příklad: Není pravda, že je den. \(\overline{\predicate{den}}\).

Je třeba upozornit, že negace není tzv. pravý opak, ale výrok, který je pravdivý právě tehdy, když není pravdivý výrok negovaný. Negací výroku "prší" proto není "svítí slunce", ale "neprší. Ne vždy, když neprší, tak svítí slunce - může být zataženo.

\section{Ekvivalence}

Jsou-li \(\predicate{A}\) a~\(\predicate{B}\) predikáty, pak

\begin{equation}
\predicate{A} \equivalent \predicate{B} 
\end{equation}

je pravdivý, pokud mají oba predikáty stejnou pravdivost - jsou oba pravdivé nebo oba nepravdivé. Říkáme "\(\predicate{A}\) je pravdivý tehdy a~jen tehdy, pokud je pravdivý \(\predicate{B}\)" nebo "\(\predicate{A}\) je pravdivý právě tehdy, když je pravdivý \(\predicate{B}\)".
Ekvivalenci můžeme vyjádřit pravdivostní tabulkou:

\etab{truth_equiv}

Příklad: Den je tehdy a~jen tehdy, když není noc. \(\predicate{Den} \equivalent \overline{\predicate{noc}}\).

\section{Konjunkce}

Jsou-li \(\predicate{A}\) a~\(\predicate{B}\) predikáty, pak

\begin{equation}
\predicate{A} \land \predicate{B} 
\end{equation}

je pravdivý, pokud jsou oba výroky pravdivé. Říkáme "\(\predicate{A}\) a~(zárověň) \(\predicate{B}\)".
Konjunkci můžeme vyjádřit pravdivostní tabulkou:

\etab{truth_and}

Příklad: Země je kulatá a~obíhá okolo Slunce. Země je kulatá \(\land\) Země obíhá okolo Slunce.


\section{Disjunkce}

Jsou-li \(\predicate{A}\) a~\(\predicate{B}\) predikáty, pak

\begin{equation}
\predicate{A} \lor \predicate{B}
\end{equation}

je pravdivý, pokud je pravdivý alespoň jeden z~nich (tedy i~oba). Říkáme "\(\mathrm{A}\) nebo \(\mathrm{B}\)".
Disjunkci můžeme vyjádřit pravdivostní tabulkou:

\etab{truth_or}

Příklad: Buď je den nebo noc. Den \(\lor\) noc.

\section{Implikace}

Jsou-li \(\predicate{A}\) a~\(\predicate{B}\) predikáty, pak

\begin{equation}
\predicate{A} \impl \predicate{B}
\end{equation}

je pravdivý, pokud z~předpokladu \(A\) plyne závěr \(B\). Tedy pokud není splněn předpoklad \(A\) nebo je splněn předpoklad \(B\). Říkáme "z~\(\predicate{A}\) plyne \(\predicate{B}\)", "Pokud \(\predicate{A}\) pak \(\predicate{B}\)" nebo "\(\predicate{A}\) implikuje \(\predicate{B}\)".
Implikaci můžeme vyjádřit pravdivostní tabulkou:

\etab{truth_impl}

Příklad: Pokud prší, pak je mokro. Prší \(\impl\) mokro.

Implikaci není možné obrátit. Z~výše uvedeného výroku tak nelze vyvodit "pokud je pokro, pak prší" - po cestě mohl například projet kropící vůz. Také není možné pouze negovat výroky v~impliaci. Z uvedeného výroku nelze tedy odvodit "pokud neprší, pak není mokro" - opět mohl projet kropící vůz. Ale je možné impliaci obrátit~a~negovat výroky, tedy odvodit "pokud není mokro, pak neprší", viz tautologie~\eqref{eq:impl_swap}. Dále je poněkud neintuitivní, že je implikace pravdivá, pokud je nepravdivý předpoklad. Tedy pokud neprší, pak je výše uvedený výrok pravdivý ať už je mokro nebo ne. 

\section{Vyhodnocování logických výrazů}

Logické výrazy, někdy nazývané formule, jsou obdobné matematickým výrazům. Skládají se z~predikátů, proměnných a~logických operátorů oposaných výše. Podobně jako u~matematických výrazů se pořadí vyhodnocování řídí závorkami a~prioritou operátorů. Operátory se vyhodnocují v~pořadí:

\(\overline{A}\), \(\forall\), \(\exists\), \(\land\), \(\lor\), \(\impl\), \(\equivalent\)

Příklad - určete pravdivost predikátu pro \(x = 5, y = 10\):
\begin{equation}
x < 3 \lor y = 10 \land (x = 5 \lor x < 5)
\end{equation}

Nejdříve uzávorkujeme výraz podle priority operátorů a~pak jej postupně vyhodnotíme:

\begin{equation}
\begin{split}
x < 3 \lor (x \cdot y = 50 \land (x = 5 \lor x < 5)) = \\
5 < 3 \lor (5 \cdot 10 = 50 \land (5 = 5 \lor 5 < 5)) = \\
\false \lor (\true \land (\true \lor \false)) = \false \lor (\true \land \true) = \false \lor \true = \true 
\end{split}
\end{equation}

\section{Množiny}

Množina je neuspořádaný soubor prvků, říkáme, že množina své prvky obsahuje. Zápisem

\begin{equation}
\{1, 2, 3\}
\end{equation}

rozumíme množinu, která obsahuje prvky 1, 2 a~3. Podobně zápisem

\begin{equation}
\{x: \predicate{A}(x)\}
\end{equation}

rozumíme množinu všech prvků \(x\), pro které je predikát \(\predicate{A}(x)\) pravdivý. Proto

\begin{equation}
\{1, 2, 3\} = \{x: x = 1 \lor x = 2 \lor x = 3\}
\end{equation}

Symbolem \(\emptyset\) rozumíme prázdnou množinu - množinu, která neobsahuje žádný prvek:

\begin{equation}
\{\} = \{x: \false\} = \emptyset
\end{equation}

Je-li \(M\) množina, pak můžeme zavést predikát

\begin{equation}
x \in M
\end{equation}

který je pravdivý tehdy a~jen tehdy, pokud je prvek \(x\) obsažen v~množině \(M\). Proto platí

\begin{equation}
x \in \{ y : \predicate{A}(y) \} \equivalent \predicate{A}(x)
\end{equation}

Jeho negaci označme

\begin{equation}
x \notin M \equivalent \negation{x \in M}
\end{equation}


Jsou-li \(M_1\) a~\(M_2\) množiny, pak \(M_1 \cap M_2\) je jejich průnik a~obsahuje prvky, které jsou obsaženy v~obou množinách. Proto platí:

\eeq{intersection_definition}

Obdobně \(M_1 \cup M_2\) je sjednocení množin a~obsahuje prvky, které jsou obsaženy v~jedné nabo druhé množině. Proto platí:

\eeq{union_definition}

Rozdíl množin \(M_1 \setminus M_2\) obsahuje prvky, které jsou obsaženy v~množině \(M_1\) a~nejsou obsaženy v~množině \(M_2\). Proto platí:

\eeq{difference_definition}

\section{Obecný kvantifikátor}

Je-li \(\predicate{A}(x)\) predikát, pak

\begin{equation}
\forall x \ \predicate{A}(x)
\end{equation}

je výrok, který je pravdivý tehdy a~jen tehdy, když \(\predicate{A}\) je pravdivý pro všechny hodnoty \(x\). Říkáme "pro každé \(x\) platí \(\predicate{A}(x)\)". Obdobně, pokud \(\predicate{A}(x, y, ...)\) je predikát, pak

\begin{equation}
\forall x \ \predicate{A}(x, y, ...)
\end{equation}

je predikát, který je pravdivý tehdy a~jen tehdy, když \(\predicate{A}\) je pravdivý pro všechny hodnoty \(x\). Tentokrát však již není výrokem, protože obsahuje volné proměnné \(y, ...\). Proměnná \(x\) je ve výrazu vázaná, již nevstupuje jako parametr zvenčí.

V~uvedených příkladech může proměnná \(x\) nabývat jakékoli hodnoty - tedy například 1, -2.5, automobil atd. Často potřebujeme omezit proměnnou na určitou množinu hodnot. K~tomu použijeme zápis

\begin{equation}
\forall x \in \mathrm{S} \ \predicate{A}(x)
\end{equation}

který chápeme jako zkrácení zápisu

\begin{equation}
\forall x \ \left( x \in \mathrm{S} \impl \predicate{A}(x) \right)
\end{equation}

tedy "pro každé \(x\) z~množiny \(\mathrm{S}\) platí \(\predicate{A}(x)\)" je shodné s~"pro každé \(x\) platí, že pokud \(x\) je prvkem množiny \(\mathrm{S}\), pak platí \(\predicate{A}(x)\)".

Příklad: Každé přirozené číslo je větší než 0. 

\(\forall x \in \mathbb{N} \ x > 0\) neboli \(\forall x \ (x \in \mathbb{N} \impl x > 0)\).

Kvantifikátory úzce souvisí s~množinami. Pravdivost predikátu \(\predicate{A}(x)\) závisí na proměnné \(x\). Možné hodnoty
proměnné \(x\) můžeme tedy rozdělit do dvou disjunktních množin - množiny hodnot, ve kterých je predikát pravdivý a~množiny hodnot, ve kterých je predikát nepravdivý. Proto platí:

\eeq{forall_set}

Neboli, výrok, že predikát \(\predicate{A}(x)\) je pravdivý pro všechny možné hodnoty proměnné \(x\) je ekvivalentní výroku, že množina hodnot, pro které je tento predikát nepravdivý, je prázdná.

\section{Existenční kvantifikátor}

Je-li \(\predicate{A}(x)\) predikát, pak

\begin{equation}
\exists x \ \predicate{A}(x)
\end{equation}

je výrok, který je pravdivý tehdy a~jen tehdy, když \(\predicate{A}\) je pravdivý alespoň pro jednu hodnotu \(x\). Říkáme "existuje \(x\) takové, že platí \(\predicate{A}(x)\)". Obdobně, pokud \(\predicate{A}(x, y, ...)\) je predikát, pak

\begin{equation}
\exists x \ \predicate{A}(x, y, ...)
\end{equation}

je predikát, který je pravdivý tehdy a~jen tehdy, když \(\predicate{A}\) je pravdivý alespoň pro jednu hodnotu \(x\). Tato hodnota ale může být závislá na volných proměnných \(y, ...\). Proměnná \(x\) je ve výrazu vázaná, již nevstupuje jako parametr zvenčí.

V~uvedených příkladech může proměnná \(x\) nabývat jakékoli hodnoty. Často potřebujeme omezit proměnnou na určitou množinu hodnot. K~tomu použijeme zápis

\begin{equation}
\exists x \in \mathrm{S} \ \predicate{A}(x)
\end{equation}

který chápeme jako zkrácení zápisu

\begin{equation}
\exists x \ \left( x \in \mathrm{S} \land \predicate{A}(x) \right)
\end{equation}

tedy "existuje \(x\) z~množiny \(\mathrm{S}\) takové, že platí \(\predicate{A}(x)\)" je shodné s~"existuje \(x\) takové, že \(x\) je prvkem množiny \(\mathrm{S}\) a~zároveň platí \(\predicate{A}(x)\)".

Příklad: Pro každé přirozené číslo existuje přirozené číslo větší. 

\(\forall x \in \mathbb{N} \ \exists y \ y > x\)

Obdobně jako u~obecného kvantifikátoru můžeme existenční kvantifikátor zapsat pomocí množiny. Výrok, že existuje hodnota \(x\), pro kterou je predikát \(\predicate{A}(x)\) pravdivý je ekvivalentní výroku, že množina hodnot, pro které tento predikát pravdivý je neprázdná:

\eeq{exists_set}

\section{Tautologie}

Tautologie jsou výroky, které jsou pravdivé bez ohladu na pravdivost výroků v~nich obsažených. Tautologie můžeme dokázat vyzkoušením všech možnosí, kterých mohou tyto výroky nabývat. Ideálně zkonstruováním pravdivostní tabulky.

Příklad: Nechť \(\predicate{A}\) a~\(\predicate{B}\) jsou výroky. Pak bez ohledu na jejich pravdivost platí:

\eeq{de_morgan_example}

Sestrojme pravdivostní tabulku, která vyhodnotí výrok~\eqref{eq:de_morgan_example} pro všechny možné kombinace výroků \(\predicate{A}\) a~\(\predicate{B}\). V~tabulce jsou uvedeny i~hodnoty pro podvýroky:

\etab{de_morgan_example}

Vidíme, že výrok~\eqref{eq:de_morgan_example} platí ve všech případech. Takto lze obecně dokazovat tautologie, které neobsahují kvantifikátory.

Máme-li tautologii ve formě ekvivalence a~máme-li výraz, který obsahuje jednu stranu ekvivalence, pak ji můžeme nahradit druhou stranou ekvivalence podobně, jako to děláme s~operátorem rovnosti při úpravách matematických výrazů. Například máme výrok

\begin{equation}
\overline{\predicate{C}} \lor \overline{\predicate{C} \lor (\predicate{D} \land \predicate{E})}
\end{equation}

ve kterém můžeme na část výrazu použít uvedenou tautologii se substitucí \(\predicate{A} = \predicate{C}\) a~\(\predicate{B} = \predicate{D} \land \predicate{E}\):

\begin{equation}
\overline{\predicate{C}} \lor \overline{\predicate{C}} \land \overline{\predicate{D} \land \predicate{E}}
\end{equation}

Využitím další tautologie~\eqref{eq:or_specific} se celý výraz zjednoduší na

\begin{equation}
\overline{\predicate{C}}
\end{equation}

a~proto můžeme napsat

\eeq{tautology_example}

\section{Důležité vztahy}

Proberme nyní důležité logické vztahy. Začněme symetričností disjunkce a~konjunkce:

\eeqn{or_symmetry}
\eeqn{and_symmetry}

Tyto vztahy vyjadřují fakt, že můžeme prohodit operandy aniž bychom změnily výraz. Jejich platnost je vidět přímo z~pravdivostních tabulek - hodnota na dvou řádcích s~rozdílnýmí vstupy (odpovídající prohození vstupů) je shodná.

Disjunkce a~konjunkce jsou také asociativní operace. Můžeme proto změnit pořadí vyhodnocování disjunkcí nebo konjunkcí, neboli je jinak uzávorkovat. Proto také při zápisu konjunkce a~disjunkce více výrazů nemusíme závorky psát vůbec, protože na pořadí jejich vyhodnocení nezáleží:

\eeqn{or_associativity}
\eeqn{and_associativity}

Vztahy dokážeme pomocí pravdivostních tabulek:

\etab{or_associativity}

\etab{and_associativity}

V~tabulkách je také vidět, že disjunkce více výrazů je pravdivá právě tehdy, pokud je pravdivý alespoň jeden výraz. Podobně konjunkce více výrazů je pravdivá tehdy a~jen tehdy, pokud jsou pravdivé všechny výrazy. V~ohledu symetričnosti a~asociativity se tedy disjunkce a~konjunkce chová jako sčítání a~násobení. Podobně je to s~distributivitou, která umožňuje "roznásobit" disjunkci konjunkcí, ale i~konjunkci disjunkcí:

\eeqn{or_distributivity}
\eeqn{and_distributivity}

Vztahy dokážeme opět pomocí pravdivostních tabulek:

\etab{or_distributivity}

\etab{and_distributivity}

Důležité jsou i~vztahy umožňující zjednodušit disjunkci a~konjunkci se dvou stejných výroků, nebo výrok naopak zduplikovat. Jejich platnost je vidět z~pravdivostních tabulek disjunkce a~konjunkce:

\eeqn{double_or}
\eeqn{double_and}

Přejděme dále ke vztahům s~negací. Zákon dvojí negace vyjadřuje fakt, že dvojitou negací získáme původní výrok a~je zřejmý z~pravidostní tabulky negace:

\eeqn{double_negation}

Zákon o~vyloučení třetího a~vyjadřuje fakt, že buď platí výrok, nebo jeho negace. Opět je zřejmý z~pravidostní tabulky negace:

\eeqn{excluded_middle}

Podobně nemůže zároveň platit výrok i~jeho negace: 

\eeqn{and_both}

Dále pomocí De-Morganových pravidel lze posunou negaci skrz disjunkci a~konjunkci, při tom ale dojde k~záměně disjunkce za konjunkci a~naopak:

\eeqn{de_morgan_or}
\eeqn{de_morgan_and}

Důkaz provedeme opět pomocí pravdivostních tabulek:

\etab{de_morgan_or}

\etab{de_morgan_and}

Dále se podívejme na vztahy s~implikací. Začněme vyjádřením implikaci pomocí disjunkce:

\eeqn{impl_definition}

Vztah dokážeme pomocí pravdivostní tabulky:

\etab{impl_definition}

Snadno dokážeme, že při negaci výroků v~implikaci je nutné implikaci obrátit. Důkaz provedeme postupným upravováním výroku pomocí dříve dokázaných vztahů:

\eeq{impl_swap_proof}

Pro další dokazování je nutný následující vztah umožňující zjednodušit výrok \((\negation{\predicate{A}} \land \predicate{B}) \lor \predicate{A}\):

\eeq{or_generalization_proof}

V~prvních dvou krocích jsme výrok \(\predicate{A}\) zapsali jako \((\predicate{A} \land \predicate{B}) \lor (\predicate{A} \land \negation{\predicate{B}})\). Dále jsme výrok \(\predicate{A} \land \predicate{B}\) zduplikovali, abychom mohli z~výroků vytknout a~využitím zákonu vyloučení třetího celý výrok zjednodušit.

Dále dokážeme, že v~implikaci z~předpokladu plyne závěr:

\eeq{impl_usage_proof}

Nejdříve jsme rozepsali druhou implikaci na disjunkci. Pak jsme na první člen použili De-Morganovo pravidlo. Poté jsme zbývající implikaci opět nahradili disjunkcí a~použili na ni De-Morganovo pravdilo. Nakonec jsme použili vztah~\eqref{eq:or_generalization_proof}. Vznikne tak disjunkce, ve které se vyskytuje výrok 
\(\predicate{A}\) i~jeho negace. Díky zákonu o~vyloučení třetího je pak tato disjunkce vždy pravdivá a~tím i celý výrok.

Pokračujme důkazem tranzitivity implikace:

\eeq{impl_transitivity_proof}

Nakonec dokážeme vztah mezi implikací a~ekvivalencí pomocí pravdivostní tabulky:

\eeqn{equiv_to_impl}

\etab{equiv_to_impl}

Shrňme si vztahy, které jsme doposud odvodili:

\begin{fact}
\eeq{or_symmetry}
\eeq{and_symmetry}
\eeq{or_associativity}
\eeq{and_associativity}
\eeq{or_distributivity}
\eeq{and_distributivity}
\eeq{double_or}
\eeq{double_and}
\eeq{double_negation}
\eeq{excluded_middle}
\eeq{and_both}
\eeq{de_morgan_or}
\eeq{de_morgan_and}
\eeq{impl_definition}
\eeq{impl_usage}
\eeq{impl_transitivity}
\eeq{impl_swap}
\eeq{equiv_to_impl}
\end{fact}

\section{Vztahy s~kvantifikátory}

\begin{fact}
\eeq{forall_not_eq_not_exists}
\eeq{exists_not_eq_not_forall}
\end{fact}
